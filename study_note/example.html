<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DOM API Example</title>
</head>
<style>
</style>
<body>
    <input type="text">
    <div class="msg"></div>
    <script>
        const $input = document.querySelector("input");
        const $msg = document.querySelector(".msg");

        const throttle = (callback, delay) => {
            let timerId;

            return(...args) => {
                // timerId 가 한번 설정되면 딜레이가 끝날때까지 아무 일도 일어나지 않음
                // 딜레이가 끝나면 콜백함수 실행 및 타이머 재설정
                // ==> 딜레이 간격으로 콜백함수가 실행됨
                if(timerId) return;
                timerId = setTimeout(()=>{
                    callback(...args);
                    timerId=null
                },delay);
            };
        };

        $input.oninput = throttle((e)=> {
            $msg.textContent=e.target.value;
        },500)
    </script>
</body>
</html>